!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var index,room,canvas,ctx,color,x$,prevX,prevY,isMouseDown,down,move,up;index=__webpack_require__(1),room=decodeURIComponent(function(it){return it.substr(1)}(window.location.pathname)),room||(room="xxxxxx".replace(/[x]/g,function(){return(36*Math.random()|0).toString(36)}),window.history.replaceState({},"Random Room","/"+room)),document.write(__webpack_require__(5)()),canvas=document.getElementById("main-canvas"),canvas.width=window.innerWidth,canvas.height=window.innerHeight,window.addEventListener("resize",function(){var img;img=new Image,img.src=canvas.toDataURL("image/png"),img.onload=function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,ctx.drawImage(img,0,0)}}),ctx=canvas.getContext("2d"),color=localStorage.color||"#000000",x$=document.getElementById("color-picker"),x$.value=color,x$.onchange=function(){color=this.value,localStorage.color=color},isMouseDown=!1,down=function(it){prevX=it.offsetX,prevY=it.offsetY,isMouseDown=!0},move=function(it){isMouseDown&&(ctx.strokeStyle=color,ctx.beginPath(),ctx.moveTo(prevX,prevY),ctx.lineTo(it.offsetX,it.offsetY),prevX=it.offsetX,prevY=it.offsetY,ctx.stroke())},up=function(){isMouseDown=!1},document.addEventListener("mousedown",down),document.addEventListener("touchstart",function(it){it.preventDefault(),down(it.targetTouches[0])}),document.addEventListener("mousemove",move),document.addEventListener("touchmove",function(it){move(it.targetTouches[0])}),document.addEventListener("mouseup",up),document.addEventListener("touchend",function(it){up(it.targetTouches[0])})},function(module,exports,__webpack_require__){var content=__webpack_require__(2);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,"#main-canvas{position:absolute;margin:0;padding:0;top:0;left:0;width:100%;height:100%;cursor:crosshair}#color-picker{position:absolute;top:5px;right:5px}",""])},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function createStyleElement(){var styleElement=document.createElement("style"),head=getHeadElement();return styleElement.type="text/css",head.appendChild(styleElement),styleElement}function createLinkElement(){var linkElement=document.createElement("link"),head=getHeadElement();return linkElement.rel="stylesheet",head.appendChild(linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement()),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(),update=updateLink.bind(null,styleElement),remove=function(){styleElement.parentNode.removeChild(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(),update=applyToTag.bind(null,styleElement),remove=function(){styleElement.parentNode.removeChild(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;obj.sourceMap;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=(obj.media,obj.sourceMap);sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0;module.exports=function(list,options){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE());var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){var jade=__webpack_require__(6);module.exports=function(locals){var jade_debug=[new jade.DebugItem(1,"/home/amar/misc/Dropbox/projects/home/drawi.re/src/canvas.jade")];try{var buf=[];return jade_debug.unshift(new jade.DebugItem(0,"/home/amar/misc/Dropbox/projects/home/drawi.re/src/canvas.jade")),jade_debug.unshift(new jade.DebugItem(1,"/home/amar/misc/Dropbox/projects/home/drawi.re/src/canvas.jade")),buf.push('<canvas id="main-canvas">'),jade_debug.unshift(new jade.DebugItem(void 0,jade_debug[0].filename)),jade_debug.shift(),buf.push("</canvas>"),jade_debug.shift(),jade_debug.unshift(new jade.DebugItem(2,"/home/amar/misc/Dropbox/projects/home/drawi.re/src/canvas.jade")),buf.push('<input id="color-picker" type="color"/>'),jade_debug.shift(),jade_debug.shift(),buf.join("")}catch(err){jade.rethrow(err,jade_debug[0].filename,jade_debug[0].lineno,"canvas#main-canvas\ninput#color-picker(type='color')\n")}}},function(module,exports,__webpack_require__){"use strict";function nulls(val){return null!=val&&""!==val}function joinClasses(val){return(Array.isArray(val)?val.map(joinClasses):val&&"object"==typeof val?Object.keys(val).filter(function(key){return val[key]}):[val]).filter(nulls).join(" ")}function jade_encode_char(c){return jade_encode_html_rules[c]||c}function jade_escape(html){var result=String(html).replace(jade_match_html,jade_encode_char);return result===""+html?html:result}exports.merge=function merge(a,b){if(1===arguments.length){for(var attrs=a[0],i=1;i<a.length;i++)attrs=merge(attrs,a[i]);return attrs}var ac=a["class"],bc=b["class"];(ac||bc)&&(ac=ac||[],bc=bc||[],Array.isArray(ac)||(ac=[ac]),Array.isArray(bc)||(bc=[bc]),a["class"]=ac.concat(bc).filter(nulls));for(var key in b)"class"!=key&&(a[key]=b[key]);return a},exports.joinClasses=joinClasses,exports.cls=function(classes,escaped){for(var buf=[],i=0;i<classes.length;i++)escaped&&escaped[i]?buf.push(exports.escape(joinClasses([classes[i]]))):buf.push(joinClasses(classes[i]));var text=joinClasses(buf);return text.length?' class="'+text+'"':""},exports.style=function(val){return val&&"object"==typeof val?Object.keys(val).map(function(style){return style+":"+val[style]}).join(";"):val},exports.attr=function(key,val,escaped,terse){return"style"===key&&(val=exports.style(val)),"boolean"==typeof val||null==val?val?" "+(terse?key:key+'="'+key+'"'):"":0==key.indexOf("data")&&"string"!=typeof val?(-1!==JSON.stringify(val).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),val&&"function"==typeof val.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+key+"='"+JSON.stringify(val).replace(/'/g,"&apos;")+"'"):escaped?(val&&"function"==typeof val.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+key+'="'+exports.escape(val)+'"'):(val&&"function"==typeof val.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+key+'="'+val+'"')},exports.attrs=function(obj,terse){var buf=[],keys=Object.keys(obj);if(keys.length)for(var i=0;i<keys.length;++i){var key=keys[i],val=obj[key];"class"==key?(val=joinClasses(val))&&buf.push(" "+key+'="'+val+'"'):buf.push(exports.attr(key,val,!1,terse))}return buf.join("")};var jade_encode_html_rules={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},jade_match_html=/[&<>"]/g;exports.escape=jade_escape,exports.rethrow=function rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if(!("undefined"==typeof window&&filename||str))throw err.message+=" on line "+lineno,err;try{str=str||__webpack_require__(7).readFileSync(filename,"utf8")}catch(ex){rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context),context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n");throw err.path=filename,err.message=(filename||"Jade")+":"+lineno+"\n"+context+"\n\n"+err.message,err},exports.DebugItem=function(lineno,filename){this.lineno=lineno,this.filename=filename}},function(module,exports){}]);
//# sourceMappingURL=index.min.js.map